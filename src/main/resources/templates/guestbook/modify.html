<!DOCTYPE html>
<html lang="en">
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<th:block th:replace="~{/layout/basic :: setContent(~{this::content} )}">
  <th:block th:fragment="content">
    <h1 class="mt-4"> GuestBook Modify Page </h1>
      <form action="/guestbook/modify" method="post">
        <div class="form-group">
          <label >gno</label>
          <input type="text" class="form-control" name="gno" th:value="${dto.gno}" readonly>
        </div>
        <div class="form-group">
          <label >title</label>
          <input type="text" class="form-control" name="title" th:value="${dto.title}">
        </div>
        <div class="form-group">
          <label >content</label>
          <textarea type="text" rows="5" class="form-control" name="content">[[${dto.content}]]</textarea>
        </div>
        <div class="form-group">
          <label >writer</label>
          <input type="text" class="form-control" name="writer" th:value="${dto.writer}" readonly>
        </div>
        <div class="form-group">
          <label >regDate</label>
          <input type="text" class="form-control" name="regDate" th:value="${dto.regDate}" readonly>
        </div>
        <div class="form-group">
          <label >modDate</label>
          <input type="text" class="form-control" name="modDate" th:value="${dto.modDate}" readonly>
        </div>
      </form>
    <button type="button" class="btn btn-primary modifyBtn">MODIFY</button>
    <button type="button" class="btn btn-info listBtn">LIST</button>
    <button type="button" class="btn btn-danger removeBtn">Remove</button>
  </th:block>
</th:block>

<script th:inline="javascript">
  var actionForm = $("form");
  $(".removeBtn").click(function (){
    actionForm
            .attr("action", "/guestbook/remove")
            .attr("method", "post");
    actionForm.submit();
  })
  $(".modifyBtn").click(function (){
    if(!confirm("수정하시겠습니까?"))
      return;
    actionForm
            .attr("action", "/guestbook/modify")
            .attr("method", "post")
            .submit();
  })
</script>

</html>